User Instructions for the Water and Wastewater Rate Database App 

This initial instruction set has been generated by AI. Please updated as needed. 

Accessing the Database: 

The database can be accessed at: https://waterrates.azurewebsites.net/ 

The code for this project can be viewed at: https://github.com/mberntNG/waterrates 

If you need access to the NewGen GitHub repository, please access a member of the Strategic Analytics team.  

Adding a New Entity: 

Click the "Add Entity" button in the top-left corner of the page. 

A form will appear where you can input details like the entity's name, state, population, latitude, longitude, and rate details (rate type, class, meter size, effective date, etc.). 

You can also input volumetric data for up to 10 blocks in the "Blocks" section. 

Once you’ve entered all the necessary information, click "Save Changes" to add the entity and its rates to the database. 

Editing an Existing Entity: 

In the table, locate the entity you want to edit and click the "Edit" button next to it. 

The form will open, pre-filled with the entity’s current data. You can modify any of the fields. 

When changing block volumes, a confirmation message will appear to ensure you intend to modify the volume. 

After making your changes, click "Save Changes" to update the database. 

Exporting Selected Rates (Water Rates Template): 

To export data using our internal water rates template, select the rates you want to export by checking the boxes in the "Export" column of the table. 

Navigate through pages and make selections on each page if necessary (selections are remembered across pages). 

Once you have made your selections, click the "Export Selected Rates" button to download a CSV file that matches our internal water rates template. 

This export is formatted with specific fields (such as blocks, rates, and volumetric information) to align with our internal data structure. 

If no rates are selected, you will be prompted to select at least one before exporting. 

Viewing Rates in Different Units (kGal/CCF): 

Use the "Show units in:" dropdown to toggle between kGal (thousand gallons) and CCF (hundred cubic feet) as the unit of measurement. 

All volumetric rates and block volumes in the table will be converted accordingly. 

You can switch back to the default unit anytime. 

Calculating Distance Between Entities/Finding Cities 

To view the distance between different entities, use the "Show distance from:" dropdown to select a reference entity. 

The table will display the distance (in miles) from the selected entity to each entity that has latitude and longitude information. 

There is additionally a link to a city finder that will allow the user to search from all cities. The link can be found at the top of the page with the label “City Finder”. 

Using the DataTable: 

The DataTable is a powerful tool for searching, filtering, and exporting data. 

Search Bar: At the top of the table, use the search bar to quickly find entities based on any visible column (e.g., entity name, state, rate type, etc.). 

Column Sorting: Click on any column header to sort the data by that column (e.g., sort entities alphabetically, by state, or by population). 

Pagination: The table displays a set number of rows per page, but you can change this using the dropdown at the bottom of the table. 

Export Buttons: Above the table, there are buttons for exporting the currently displayed data: 

Copy: Copies the data to your clipboard. 

CSV: Exports the visible table data to a CSV file. 

Excel: Exports the visible table data to an Excel file. 

PDF: Exports the visible table data to a PDF. 

Print: Prepares the table data for printing. 

Important: The export buttons will export the visible table in its current form, including filters or searches you’ve applied, but the structure of the export will be different from the "Export Selected Rates" button. Use the DataTable export buttons for a general export of the data, while the "Export Selected Rates" button exports data in a format designed to fit our internal water rates templates. 

Deleting an Entity or Rate: 

If you wish to delete a rate, click the "Delete" button next to the entity in the table. 

A confirmation box will appear asking if you are sure about deleting the rate. 

Once confirmed, the rate will be permanently removed from the database. 

Key Points to Remember: 

Block Changes Warning: When editing block volumes for an existing entity, you will receive a warning if you change a block’s volume. This is to prevent accidental changes. 

Units: The unit toggle feature (kGal/CCF) affects how block volumes and rates are displayed but does not alter the stored values in the database. 

DataTable Exports vs. Selected Rate Exports: The DataTable export buttons will export the table as shown, while the "Export Selected Rates" button exports the rates in a more detailed format that fits our internal templates for water rates. 

Export Across Pages: When selecting rates to export, selections made on different pages will be remembered, allowing you to export data from multiple pages at once. 
